â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ESTRUCTURA DEL PROYECTO REFACTORIZADO                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ Proyecto Itti - Google Drive & Gmail Manager
â”‚
â”œâ”€â”€ ğŸ“ config/                          âš™ï¸ CONFIGURACIÃ“N
â”‚   â”œâ”€â”€ __init__.py                     â””â”€ Exports: AppConfig, AuthMode, GoogleScopes
â”‚   â””â”€â”€ settings.py                     â””â”€ ConfiguraciÃ³n desde .env
â”‚       â”œâ”€â”€ AuthMode (Enum)             â””â”€ PERSONAL / WORKSPACE
â”‚       â”œâ”€â”€ GoogleScopes (Class)        â””â”€ URLs de scopes
â”‚       â””â”€â”€ AppConfig (Settings)        â””â”€ Variables de entorno
â”‚
â”œâ”€â”€ ğŸ“ models/                          ğŸ“‹ MODELOS DE DATOS
â”‚   â”œâ”€â”€ __init__.py                     â””â”€ Exports: Cliente, ArchivoCliente, etc.
â”‚   â””â”€â”€ schemas.py                      â””â”€ Modelos Pydantic
â”‚       â”œâ”€â”€ Cliente                     â””â”€ Datos de cliente
â”‚       â”œâ”€â”€ ArchivoCliente              â””â”€ Archivos para subir
â”‚       â”œâ”€â”€ EmailAttachment             â””â”€ Adjuntos de email
â”‚       â”œâ”€â”€ EmailMessage                â””â”€ Mensajes de correo
â”‚       â”œâ”€â”€ DriveFileChange             â””â”€ Cambios en Drive
â”‚       â””â”€â”€ ExcelData                   â””â”€ Datos de Excel
â”‚
â”œâ”€â”€ ğŸ“ services/                        ğŸ”§ SERVICIOS DE GOOGLE API
â”‚   â”œâ”€â”€ __init__.py                     â””â”€ Exports: Auth, Drive, Gmail
â”‚   â”œâ”€â”€ auth.py                         â””â”€ GoogleAuthService
â”‚   â”‚   â””â”€â”€ get_credentials()           â””â”€ AutenticaciÃ³n con Service Account
â”‚   â”œâ”€â”€ drive.py                        â””â”€ GoogleDriveService
â”‚   â”‚   â”œâ”€â”€ crear_carpeta()             â””â”€ Crear carpetas
â”‚   â”‚   â”œâ”€â”€ subir_archivo()             â””â”€ Subir archivos
â”‚   â”‚   â”œâ”€â”€ crear_carpeta_con_archivos()â””â”€ Crear y subir en un paso
â”‚   â”‚   â”œâ”€â”€ buscar_carpeta_por_nombre() â””â”€ Buscar carpetas
â”‚   â”‚   â”œâ”€â”€ listar_archivos_excel()     â””â”€ Listar Excel
â”‚   â”‚   â”œâ”€â”€ descargar_archivo()         â””â”€ Descargar a disco
â”‚   â”‚   â”œâ”€â”€ leer_excel_desde_drive()    â””â”€ Leer Excel en memoria
â”‚   â”‚   â””â”€â”€ actualizar_excel_en_drive() â””â”€ Actualizar Excel
â”‚   â””â”€â”€ gmail.py                        â””â”€ GmailService
â”‚       â”œâ”€â”€ buscar_correos()            â””â”€ Buscar con filtros
â”‚       â”œâ”€â”€ marcar_como_leido()         â””â”€ Marcar leÃ­do
â”‚       â””â”€â”€ extraer_excel_adjuntos()    â””â”€ Extraer adjuntos Excel
â”‚
â”œâ”€â”€ ğŸ“ jobs/                            ğŸ¤– JOBS AUTOMATIZADOS
â”‚   â”œâ”€â”€ __init__.py                     â””â”€ Exports: EmailProcessor, DriveMonitor
â”‚   â”œâ”€â”€ email_processor.py              â””â”€ EmailProcessorJob
â”‚   â”‚   â”œâ”€â”€ procesar_correos_nuevos()   â””â”€ Procesar correos una vez
â”‚   â”‚   â””â”€â”€ ejecutar_loop()             â””â”€ Loop continuo
â”‚   â””â”€â”€ drive_monitor.py                â””â”€ DriveMonitorJob
â”‚       â”œâ”€â”€ procesar_cambios()          â””â”€ Detectar cambios una vez
â”‚       â””â”€â”€ ejecutar_loop()             â””â”€ Loop continuo
â”‚
â”œâ”€â”€ ğŸ“ utils/                           ğŸ› ï¸ UTILIDADES
â”‚   â”œâ”€â”€ __init__.py                     â””â”€ Exports: PlaceholderGenerator
â”‚   â”œâ”€â”€ placeholder.py                  â””â”€ PlaceholderGenerator
â”‚   â”‚   â”œâ”€â”€ crear_imagen_placeholder()  â””â”€ Generar imÃ¡genes de prueba
â”‚   â”‚   â””â”€â”€ crear_excel_placeholder()   â””â”€ Generar Excel de prueba
â”‚   â””â”€â”€ callbacks.py                    â””â”€ Callbacks de ejemplo
â”‚       â”œâ”€â”€ ejemplo_callback_validacion()       â””â”€ Validar datos
â”‚       â”œâ”€â”€ ejemplo_callback_actualizar_bd()    â””â”€ Actualizar BD
â”‚       â””â”€â”€ ejemplo_callback_generar_reporte()  â””â”€ Generar reportes
â”‚
â”œâ”€â”€ ğŸ“ examples/                        ğŸ“š EJEMPLOS DE USO
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ejemplo_1_carpeta_placeholders.py       â””â”€ Crear carpeta con archivos
â”‚   â”œâ”€â”€ ejemplo_2_email_a_drive.py              â””â”€ Procesar correos
â”‚   â”œâ”€â”€ ejemplo_3_monitorear_validar.py         â””â”€ Monitorear cambios
â”‚   â”œâ”€â”€ ejemplo_4_leer_actualizar_excel.py      â””â”€ Leer/actualizar Excel
â”‚   â””â”€â”€ ejemplo_5_flujo_completo.py             â””â”€ Flujo completo integrado
â”‚
â”œâ”€â”€ ğŸ“„ main.py                          ğŸ“œ ARCHIVO ORIGINAL (sin cambios)
â”œâ”€â”€ ğŸ“„ main_refactored.py               ğŸš€ NUEVO PUNTO DE ENTRADA
â”œâ”€â”€ ğŸ“„ verify_structure.py              âœ… Script de verificaciÃ³n
â”‚
â”œâ”€â”€ ğŸ“– README.md                        ğŸ“š DocumentaciÃ³n principal
â”œâ”€â”€ ğŸ“– MIGRATION_GUIDE.md               ğŸ”„ GuÃ­a de migraciÃ³n
â”œâ”€â”€ ğŸ“– PROYECTO_REFACTORIZADO.md        ğŸ“‹ Resumen de refactorizaciÃ³n
â”œâ”€â”€ ğŸ“– ESTRUCTURA_VISUAL.txt            ğŸ¨ Este archivo
â”‚
â”œâ”€â”€ ğŸ”§ .env                             âš™ï¸ Variables de entorno
â”œâ”€â”€ ğŸ”§ .gitignore                       ğŸš« Archivos ignorados
â”œâ”€â”€ ğŸ”§ requirements.txt                 ğŸ“¦ Dependencias
â””â”€â”€ ğŸ”‘ service-account.json             ğŸ” Credenciales (no en git)


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                              FLUJO DE DATOS                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£ CONFIGURACIÃ“N
   .env â†’ AppConfig â†’ GoogleAuthService â†’ Credentials

2ï¸âƒ£ SERVICIOS
   Credentials â†’ GoogleDriveService / GmailService

3ï¸âƒ£ JOBS
   Services â†’ EmailProcessorJob / DriveMonitorJob â†’ Callbacks

4ï¸âƒ£ EJEMPLOS
   Config + Services + Jobs â†’ Ejemplos ejecutables


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           IMPORTS PRINCIPALES                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

from config import AppConfig, AuthMode, GoogleScopes
from models import Cliente, ArchivoCliente, EmailMessage, ExcelData
from services import GoogleAuthService, GoogleDriveService, GmailService
from jobs import EmailProcessorJob, DriveMonitorJob
from utils import PlaceholderGenerator
from utils.callbacks import ejemplo_callback_validacion


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ESTADÃSTICAS DEL PROYECTO                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Antes:  1 archivo  (main.py)           ~1500 lÃ­neas
ğŸ“Š Ahora:  20+ archivos organizados       ~1500 lÃ­neas (distribuidas)

ğŸ“ Carpetas:     6 (config, models, services, jobs, utils, examples)
ğŸ“„ MÃ³dulos:      13 archivos .py principales
ğŸ“š Ejemplos:     5 ejemplos completos
ğŸ“– Docs:         4 archivos de documentaciÃ³n

âœ¨ Mejoras:
   âœ… Modularidad
   âœ… Mantenibilidad
   âœ… Testabilidad
   âœ… Escalabilidad
   âœ… ReutilizaciÃ³n
   âœ… Profesionalismo


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                            PRÃ“XIMOS PASOS                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… Verificar estructura:  python verify_structure.py
2. âš™ï¸  Configurar .env con tus credenciales
3. ğŸš€ Ejecutar ejemplo:      python examples/ejemplo_1_carpeta_placeholders.py
4. ğŸ“– Leer MIGRATION_GUIDE.md para migrar tu cÃ³digo
5. ğŸ¨ Personalizar callbacks en utils/callbacks.py


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                 Â¡LISTO!                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
